<mat-toolbar>
    <span>{{contact.Id==null?"הוספת איש קשר חדש":"עריכת איש קשר"}}</span>
</mat-toolbar>
<br>
<div class="container mat-elevation-z4">
    <br><br>
<form [formGroup]="contactForm" autocomplete novalidate (ngSubmit)="createContact(contactForm.value)" >
    <div class="row align-items-center">
      <mat-form-field class="col-md-3">
        <input matInput type="text" placeholder="שם" formControlName="name" required >
        <mat-error *ngIf="hasError('name', 'required')">זהו שדה חובה!</mat-error>
      </mat-form-field>
      <mat-form-field class="col-md-3"> 
        <mat-select placeholder="חברה" formControlName="Company" required>
          <mat-option *ngFor="let c of companyList" [value]="c.Id">{{c.name}}</mat-option>
        </mat-select>
        <mat-error *ngIf="hasError('Company', 'required')">נא לבחור חברה</mat-error>
      </mat-form-field>
      <!-- <span *ngIf="!this.contactForm.value.Company"> -->
        <a  mat-icon-button routerLink="/company-form/-"  routerLinkActive="activeLink">
          <mat-icon matTooltip="הוספת חברה חדשה" >add</mat-icon>
        </a>&nbsp;
        <span  >חדש</span>
      <!-- </span> -->
    </div>
    <br>
    <div class="row ">
        <mat-form-field class="col-md-3"> 
            <input matInput type="tel" placeholder="טלפון משרד" formControlName="officePhone" >
            <mat-error *ngIf="hasError('officePhone', 'pattern')">הזן מס' טלאפון חוקי</mat-error>
          </mat-form-field>
          <mat-form-field class="col-md-3"> 
            <input matInput type="tel" placeholder="פלאפון" formControlName="phone" >
            <mat-error *ngIf="hasError('phone', 'pattern')">הזן מס' פלאפון חוקי</mat-error>
          </mat-form-field>
        <mat-icon style="align-self: center;text-align: center;">call</mat-icon>
      </div>
      <br>
    <div class="row ">
      <mat-form-field class="col-md-3">
        <input matInput type="email" placeholder='דוא"ל' formControlName="email" required style="direction: ltr;" >
        <mat-icon matSuffix>email</mat-icon>
        <mat-error *ngIf="hasError('email', 'email')">הזן כתובת דוא"ל חוקית</mat-error>
        <mat-error *ngIf="hasError('email', 'required')">זהו שדה חובה!</mat-error>
      </mat-form-field>
  </div>
  <br><br>
      <div class="row justify-content-center">
        <button mat-raised-button type="button" (click)="onCancel()">ביטול</button>&nbsp;
        <button mat-raised-button type="submit" [disabled]="contactForm.invalid||!contactForm.dirty">{{contact.Id==null?"הוסף":"עדכן"}}</button>
        </div>
        </form>
        <br><br>
</div>
